#!/bin/sh

start(){
        nohup {{pika_home}}/bin/pika -c {{conf_dir}}/pika.conf > {{log_path}}/pika_start.log 2>&1 &
}
stop(){
        pika_pid=`head -1 {{pidfile}}`
        kill -15 $pika_pid

}
restart(){
        pika_pid=`head -1 {{pidfile}}`
        kill -15 $pika_pid
        nohup {{pika_home}}/bin/pika -c {{conf_dir}}/pika.conf > {{log_path}}/pika_start.log 2>&1 &
}

case "$1" in
start)
        start
        ;;
stop)
        stop
        ;;
restart)
        restart
        ;;
*)
        echo "Usage: $0 {start|restart|stop}"
        exit 1
        ;;
esac